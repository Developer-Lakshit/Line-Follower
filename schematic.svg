<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" width="1400" height="1000">
  <!-- Title -->
  <text x="700" y="30" font-size="28" font-weight="bold" text-anchor="middle" fill="#000">
    LINE FOLLOWER BOT - SCHEMATIC DIAGRAM
  </text>
  
  <!-- Legend -->
  <text x="50" y="60" font-size="14" font-weight="bold" fill="#000">Components:</text>
  <text x="50" y="85" font-size="12" fill="#333">• Arduino Nano • QTR-8RC Reflectance Sensor • TB6612FNG Motor Driver</text>
  <text x="50" y="105" font-size="12" fill="#333">• 2x N20 Gear Motors • MP1584 DC-DC Converter • LiPo Battery 7.4V</text>
  
  <!-- ====== POWER SUPPLY SECTION ====== -->
  <rect x="50" y="130" width="200" height="150" fill="#ffe6e6" stroke="#cc0000" stroke-width="2" rx="5"/>
  <text x="150" y="155" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">POWER SUPPLY</text>
  
  <!-- Battery -->
  <rect x="70" y="170" width="30" height="80" fill="#333" stroke="#000" stroke-width="1"/>
  <line x1="85" y1="170" x2="85" y2="165" stroke="#000" stroke-width="3"/>
  <circle cx="85" cy="180" r="4" fill="#ff0000"/>
  <text x="105" y="210" font-size="11" fill="#000">LiPo 7.4V</text>
  
  <!-- MP1584 -->
  <rect x="140" y="170" width="80" height="80" fill="#ffffe0" stroke="#666" stroke-width="2" rx="3"/>
  <text x="180" y="185" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">MP1584</text>
  <text x="180" y="205" font-size="10" text-anchor="middle" fill="#000">DC-DC</text>
  <text x="180" y="220" font-size="10" text-anchor="middle" fill="#000">7.4V → 5V</text>
  
  <!-- Power connections -->
  <line x1="100" y1="210" x2="140" y2="210" stroke="#ff0000" stroke-width="2"/>
  <text x="120" y="205" font-size="9" fill="#ff0000" font-weight="bold">+</text>
  
  <line x1="100" y1="240" x2="140" y2="240" stroke="#000" stroke-width="2"/>
  <text x="120" y="235" font-size="9" fill="#000" font-weight="bold">GND</text>
  
  <!-- MP1584 Output -->
  <line x1="220" y1="210" x2="280" y2="210" stroke="#ff0000" stroke-width="2"/>
  <text x="250" y="205" font-size="9" fill="#ff0000" font-weight="bold">+5V</text>
  
  <line x1="220" y1="240" x2="280" y2="240" stroke="#000" stroke-width="2"/>
  <text x="250" y="235" font-size="9" fill="#000" font-weight="bold">GND</text>
  
  <!-- ====== ARDUINO NANO SECTION ====== -->
  <rect x="280" y="130" width="200" height="280" fill="#e6f2ff" stroke="#0066cc" stroke-width="2" rx="5"/>
  <text x="380" y="155" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">ARDUINO NANO</text>
  
  <!-- Arduino Pin Diagram -->
  <rect x="295" y="170" width="170" height="230" fill="#fff" stroke="#666" stroke-width="1"/>
  
  <!-- Left side pins (Digital) -->
  <text x="305" y="190" font-size="10" font-weight="bold" fill="#000">DIGITAL PINS</text>
  <text x="305" y="210" font-size="9" fill="#c00">D2 → AIN1</text>
  <text x="305" y="228" font-size="9" fill="#c00">D3 → PWMA</text>
  <text x="305" y="246" font-size="9" fill="#c00">D4 → AIN2</text>
  <text x="305" y="264" font-size="9" fill="#c00">D5 → PWMB</text>
  <text x="305" y="282" font-size="9" fill="#c00">D6 → BIN1</text>
  <text x="305" y="300" font-size="9" fill="#c00">D7 → BIN2</text>
  <text x="305" y="318" font-size="9" fill="#00a">D8-D12 → QTR</text>
  <text x="305" y="336" font-size="9" fill="#00a">A0-A2 → QTR</text>
  
  <!-- Right side pins (Power) -->
  <text x="360" y="190" font-size="10" font-weight="bold" fill="#000">POWER</text>
  <text x="360" y="210" font-size="9" fill="#f00">5V → Motors</text>
  <text x="360" y="228" font-size="9" fill="#f00">5V → Sensors</text>
  <text x="360" y="246" font-size="9" fill="#000">GND → All</text>
  
  <!-- ====== QTR-8RC SENSOR SECTION ====== -->
  <rect x="550" y="130" width="250" height="280" fill="#e6ffe6" stroke="#009900" stroke-width="2" rx="5"/>
  <text x="675" y="155" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">QTR-8RC REFLECTANCE SENSOR</text>
  
  <!-- Sensor array -->
  <rect x="570" y="175" width="210" height="40" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="675" y="190" font-size="9" text-anchor="middle" fill="#000">8 Infrared Sensors Array</text>
  <text x="675" y="205" font-size="8" text-anchor="middle" fill="#666">(Reads line position: 0-7000, Center: 3500)</text>
  
  <!-- Connections -->
  <text x="570" y="240" font-size="11" font-weight="bold" fill="#000">Connections:</text>
  <text x="570" y="260" font-size="9" fill="#00a">D8, D9, D10, D11, D12</text>
  <text x="570" y="278" font-size="9" fill="#00a">A0, A1, A2</text>
  <text x="570" y="296" font-size="9" fill="#f00">+5V (from MP1584)</text>
  <text x="570" y="314" font-size="9" fill="#000">GND (Common)</text>
  
  <!-- ====== TB6612FNG MOTOR DRIVER SECTION ====== -->
  <rect x="850" y="130" width="280" height="280" fill="#fff0e6" stroke="#ff9900" stroke-width="2" rx="5"/>
  <text x="990" y="155" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">TB6612FNG MOTOR DRIVER</text>
  
  <!-- Motor Driver IC -->
  <rect x="870" y="175" width="240" height="30" fill="#555" stroke="#000" stroke-width="1"/>
  <text x="990" y="198" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">TB6612FNG IC</text>
  
  <!-- Motor A Control -->
  <text x="870" y="230" font-size="11" font-weight="bold" fill="#000">Motor A (LEFT):</text>
  <text x="870" y="250" font-size="9" fill="#c00">AIN1 ← D2</text>
  <text x="870" y="268" font-size="9" fill="#c00">PWMA ← D3</text>
  <text x="870" y="286" font-size="9" fill="#c00">AIN2 ← D4</text>
  <text x="870" y="304" font-size="9" fill="#0c0">OUT1, OUT2 → Motor</text>
  
  <!-- Motor B Control -->
  <text x="1010" y="230" font-size="11" font-weight="bold" fill="#000">Motor B (RIGHT):</text>
  <text x="1010" y="250" font-size="9" fill="#c00">BIN1 ← D6</text>
  <text x="1010" y="268" font-size="9" fill="#c00">PWMB ← D5</text>
  <text x="1010" y="286" font-size="9" fill="#c00">BIN2 ← D7</text>
  <text x="1010" y="304" font-size="9" fill="#0c0">OUT3, OUT4 → Motor</text>
  
  <!-- ====== MOTORS SECTION ====== -->
  <rect x="1180" y="130" width="200" height="280" fill="#ffe6f0" stroke="#cc0066" stroke-width="2" rx="5"/>
  <text x="1280" y="155" font-size="13" font-weight="bold" text-anchor="middle" fill="#000">MOTORS</text>
  
  <!-- Left Motor -->
  <circle cx="1220" cy="240" r="35" fill="#ff9" stroke="#000" stroke-width="2"/>
  <text x="1220" y="245" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">LEFT</text>
  <text x="1220" y="262" font-size="9" text-anchor="middle" fill="#000">N20 Motor</text>
  <text x="1220" y="280" font-size="8" text-anchor="middle" fill="#000">OUT1↔OUT2</text>
  
  <!-- Right Motor -->
  <circle cx="1340" cy="240" r="35" fill="#ff9" stroke="#000" stroke-width="2"/>
  <text x="1340" y="245" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">RIGHT</text>
  <text x="1340" y="262" font-size="9" text-anchor="middle" fill="#000">N20 Motor</text>
  <text x="1340" y="280" font-size="8" text-anchor="middle" fill="#000">OUT3↔OUT4</text>
  
  <!-- ====== DETAILED PIN CONNECTIONS TABLE ====== -->
  <text x="50" y="480" font-size="14" font-weight="bold" fill="#000">DETAILED PIN CONNECTIONS</text>
  
  <!-- Arduino to TB6612FNG -->
  <rect x="50" y="500" width="550" height="180" fill="#f9f9f9" stroke="#666" stroke-width="1"/>
  <text x="65" y="520" font-size="12" font-weight="bold" fill="#000">Arduino Nano → TB6612FNG Motor Driver</text>
  
  <line x1="65" y1="530" x2="555" y2="530" stroke="#ccc" stroke-width="1"/>
  
  <text x="65" y="550" font-size="11" font-weight="bold" fill="#000">Pin</text>
  <text x="150" y="550" font-size="11" font-weight="bold" fill="#000">Function</text>
  <text x="280" y="550" font-size="11" font-weight="bold" fill="#000">Driver Pin</text>
  <text x="420" y="550" font-size="11" font-weight="bold" fill="#000">Purpose</text>
  
  <line x1="65" y1="555" x2="555" y2="555" stroke="#ccc" stroke-width="1"/>
  
  <text x="65" y="575" font-size="10" fill="#000">D2</text>
  <text x="150" y="575" font-size="10" fill="#000">AIN1</text>
  <text x="280" y="575" font-size="10" fill="#000">Motor A Dir 1</text>
  <text x="420" y="575" font-size="9" fill="#666">Left motor direction</text>
  
  <text x="65" y="595" font-size="10" fill="#000">D3</text>
  <text x="150" y="595" font-size="10" fill="#000">PWMA</text>
  <text x="280" y="595" font-size="10" fill="#000">Motor A Speed</text>
  <text x="420" y="595" font-size="9" fill="#666">Left motor PWM (0-255)</text>
  
  <text x="65" y="615" font-size="10" fill="#000">D4</text>
  <text x="150" y="615" font-size="10" fill="#000">AIN2</text>
  <text x="280" y="615" font-size="10" fill="#000">Motor A Dir 2</text>
  <text x="420" y="615" font-size="9" fill="#666">Left motor direction</text>
  
  <text x="65" y="635" font-size="10" fill="#000">D5</text>
  <text x="150" y="635" font-size="10" fill="#000">PWMB</text>
  <text x="280" y="635" font-size="10" fill="#000">Motor B Speed</text>
  <text x="420" y="635" font-size="9" fill="#666">Right motor PWM (0-255)</text>
  
  <text x="65" y="655" font-size="10" fill="#000">D6</text>
  <text x="150" y="655" font-size="10" fill="#000">BIN1</text>
  <text x="280" y="655" font-size="10" fill="#000">Motor B Dir 1</text>
  <text x="420" y="655" font-size="9" fill="#666">Right motor direction</text>
  
  <text x="65" y="675" font-size="10" fill="#000">D7</text>
  <text x="150" y="675" font-size="10" fill="#000">BIN2</text>
  <text x="280" y="675" font-size="10" fill="#000">Motor B Dir 2</text>
  <text x="420" y="675" font-size="9" fill="#666">Right motor direction</text>
  
  <!-- Arduino to QTR-8RC -->
  <rect x="650" y="500" width="700" height="180" fill="#f9f9f9" stroke="#666" stroke-width="1"/>
  <text x="665" y="520" font-size="12" font-weight="bold" fill="#000">Arduino Nano → QTR-8RC Reflectance Sensor</text>
  
  <line x1="665" y1="530" x2="1315" y2="530" stroke="#ccc" stroke-width="1"/>
  
  <text x="665" y="550" font-size="11" font-weight="bold" fill="#000">Pin</text>
  <text x="770" y="550" font-size="11" font-weight="bold" fill="#000">Sensor</text>
  <text x="900" y="550" font-size="11" font-weight="bold" fill="#000">Type</text>
  <text x="1010" y="550" font-size="11" font-weight="bold" fill="#000">Purpose</text>
  
  <line x1="665" y1="555" x2="1315" y2="555" stroke="#ccc" stroke-width="1"/>
  
  <text x="665" y="575" font-size="10" fill="#000">D8-D12, A0-A2</text>
  <text x="770" y="575" font-size="10" fill="#000">Sensors 1-8</text>
  <text x="900" y="575" font-size="10" fill="#000">Digital/Analog</text>
  <text x="1010" y="575" font-size="9" fill="#666">Line position detection</text>
  
  <text x="665" y="600" font-size="10" fill="#000">5V (from MP1584)</text>
  <text x="770" y="600" font-size="10" fill="#000">Power +</text>
  <text x="900" y="600" font-size="10" fill="#000">5V</text>
  <text x="1010" y="600" font-size="9" fill="#666">Sensor power supply</text>
  
  <text x="665" y="625" font-size="10" fill="#000">GND</text>
  <text x="770" y="625" font-size="10" fill="#000">Power -</text>
  <text x="900" y="625" font-size="10" fill="#000">GND</text>
  <text x="1010" y="625" font-size="9" fill="#666">Common ground</text>
  
  <text x="665" y="675" font-size="9" font-weight="bold" fill="#000">Return Value: 0-7000 (0=far left, 3500=center, 7000=far right)</text>
  
  <!-- ====== MOTOR CONTROL LOGIC ====== -->
  <rect x="50" y="720" width="1330" height="240" fill="#f0f0f0" stroke="#666" stroke-width="1"/>
  <text x="70" y="745" font-size="13" font-weight="bold" fill="#000">MOTOR DIRECTION & CONTROL LOGIC</text>
  
  <!-- Motor A Table -->
  <rect x="70" y="760" width="320" height="180" fill="#fff" stroke="#999" stroke-width="1"/>
  <text x="230" y="780" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">Motor A (LEFT) - via TB6612FNG</text>
  
  <line x1="70" y1="790" x2="390" y2="790" stroke="#ccc" stroke-width="1"/>
  <text x="85" y="807" font-size="9" font-weight="bold" fill="#000">AIN1</text>
  <text x="140" y="807" font-size="9" font-weight="bold" fill="#000">AIN2</text>
  <text x="195" y="807" font-size="9" font-weight="bold" fill="#000">PWMA</text>
  <text x="260" y="807" font-size="9" font-weight="bold" fill="#000">Result</text>
  <line x1="70" y1="812" x2="390" y2="812" stroke="#ccc" stroke-width="1"/>
  
  <text x="85" y="830" font-size="9" fill="#000">HIGH</text>
  <text x="140" y="830" font-size="9" fill="#000">LOW</text>
  <text x="195" y="830" font-size="9" fill="#000">0-255</text>
  <text x="260" y="830" font-size="9" fill="#0a0">Forward</text>
  
  <text x="85" y="850" font-size="9" fill="#000">LOW</text>
  <text x="140" y="850" font-size="9" fill="#000">HIGH</text>
  <text x="195" y="850" font-size="9" fill="#000">0-255</text>
  <text x="260" y="850" font-size="9" fill="#a00">Backward</text>
  
  <text x="85" y="870" font-size="9" fill="#000">LOW</text>
  <text x="140" y="870" font-size="9" fill="#000">LOW</text>
  <text x="195" y="870" font-size="9" fill="#000">X</text>
  <text x="260" y="870" font-size="9" fill="#000">STOP</text>
  
  <text x="85" y="890" font-size="9" fill="#000">HIGH</text>
  <text x="140" y="890" font-size="9" fill="#000">HIGH</text>
  <text x="195" y="890" font-size="9" fill="#000">X</text>
  <text x="260" y="890" font-size="9" fill="#000">STOP</text>
  
  <text x="75" y="925" font-size="8" fill="#666">Speed: 0 (slow) to 255 (fast)</text>
  
  <!-- Motor B Table -->
  <rect x="420" y="760" width="320" height="180" fill="#fff" stroke="#999" stroke-width="1"/>
  <text x="580" y="780" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">Motor B (RIGHT) - via TB6612FNG</text>
  
  <line x1="420" y1="790" x2="740" y2="790" stroke="#ccc" stroke-width="1"/>
  <text x="435" y="807" font-size="9" font-weight="bold" fill="#000">BIN1</text>
  <text x="490" y="807" font-size="9" font-weight="bold" fill="#000">BIN2</text>
  <text x="545" y="807" font-size="9" font-weight="bold" fill="#000">PWMB</text>
  <text x="610" y="807" font-size="9" font-weight="bold" fill="#000">Result</text>
  <line x1="420" y1="812" x2="740" y2="812" stroke="#ccc" stroke-width="1"/>
  
  <text x="435" y="830" font-size="9" fill="#000">HIGH</text>
  <text x="490" y="830" font-size="9" fill="#000">LOW</text>
  <text x="545" y="830" font-size="9" fill="#000">0-255</text>
  <text x="610" y="830" font-size="9" fill="#0a0">Forward</text>
  
  <text x="435" y="850" font-size="9" fill="#000">LOW</text>
  <text x="490" y="850" font-size="9" fill="#000">HIGH</text>
  <text x="545" y="850" font-size="9" fill="#000">0-255</text>
  <text x="610" y="850" font-size="9" fill="#a00">Backward</text>
  
  <text x="435" y="870" font-size="9" fill="#000">LOW</text>
  <text x="490" y="870" font-size="9" fill="#000">LOW</text>
  <text x="545" y="870" font-size="9" fill="#000">X</text>
  <text x="610" y="870" font-size="9" fill="#000">STOP</text>
  
  <text x="435" y="890" font-size="9" fill="#000">HIGH</text>
  <text x="490" y="890" font-size="9" fill="#000">HIGH</text>
  <text x="545" y="890" font-size="9" fill="#000">X</text>
  <text x="610" y="890" font-size="9" fill="#000">STOP</text>
  
  <text x="425" y="925" font-size="8" fill="#666">Speed: 0 (slow) to 255 (fast)</text>
  
  <!-- PID Algorithm -->
  <rect x="770" y="760" width="590" height="180" fill="#fff" stroke="#999" stroke-width="1"/>
  <text x="1065" y="780" font-size="11" font-weight="bold" text-anchor="middle" fill="#000">LINE FOLLOWING PID ALGORITHM</text>
  
  <line x1="770" y1="790" x2="1360" y2="790" stroke="#ccc" stroke-width="1"/>
  <text x="790" y="815" font-size="9" fill="#000">1. Read line position from QTR (0-7000)</text>
  <text x="790" y="835" font-size="9" fill="#000">2. Calculate error = position - 3500 (center)</text>
  <text x="790" y="855" font-size="9" fill="#000">3. motorSpeed = Kp × error + Kd × (error - lastError)</text>
  
  <text x="790" y="880" font-size="9" fill="#000">4. leftSpeed = BaseSpeed - motorSpeed</text>
  <text x="790" y="895" font-size="9" fill="#000">   rightSpeed = BaseSpeed + motorSpeed</text>
  
  <text x="790" y="920" font-size="9" fill="#000">5. Apply speeds to motors</text>
  <text x="790" y="935" font-size="8" fill="#666">Kp=0.12 (proportional) | Kd=2.0 (derivative) | BaseSpeed=155</text>
  
</svg>